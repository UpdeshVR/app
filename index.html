<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
     <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
  </head>
  <body>
<!--   <div id="nextbutton" style="z-index: 10; display: block;">
  <h2>Next Animation</h2>
  </div> -->
  <div id="mutebutton" style="z-index: 10; display: block;">
    <img id="btn" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/volume-slash.png?v=1715577427265" width="30" height="30">
  </div>
    
  <a-scene real-world-meshing>
    <a-entity camera look-controls position="0 1.6 0" wasd-controls ></a-entity>

    <a-entity hello-world></a-entity>
      <a-assets>
        <img id="skybox" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/noon_grass.jpg?v=1715321843375">
<!--         <img id="box"  src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/box.jpg?v=1715322146729"> -->
        <!-- <video id ="360video" autoplay loop="true" >
          <source src ="./assets/videos.mp4" type="video/mp4">
        </video> -->
<!--         <a-mixin id="blue" material="color: blue"></a-mixin>
        <a-mixin id="cube" geometry="primitive: box"></a-mixin>
        <a-mixin id="cone" geometry="primitive: cone; radiusBottom: 1; radiusTop: 0.1"></a-mixin>
        
        <a-asset-item id="obj3d" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/sofa.obj?v=1715581489710"></a-asset-item>
         -->
<!--         <a-asset-item id= "texture" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/sofa.mtl?v=1715581491776"></a-asset-item> -->
        <a-mixin id="controller"
               physics-collider
               static-body="shape: plane;"
               super-hands="colliderEvent: collisions;
                            colliderEventProperty: els;
                            colliderEndEvent: collisions;
                            colliderEndEventProperty: clearedEls"
               collision-filter = "group: hands;
                                   collidesWith: red, blue;
                                   collisionForces: false">
        </a-mixin>
        <img id="floor-texture" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/floor_tiles.jpg?v=1715584693228">
        <img id="walls-texture" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/brick_wall_04_diff_4k.jpg?v=1715585411603">
        <img id="topWalls-texture" src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/long_white_tiles_diff_4k.jpg?v=1715586605026">
        
        
        <source id="vol" src ="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/volume.png?v=1715577435127">
        <source id="mute" src ="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/volume-slash.png?v=1715577427265">
        
        <audio id="audio" loop>
            <source src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/sunny-jamboree-204820.mp3?v=1715328002480" type="audio/mpeg">
        </audio>
      </a-assets>

      <a-sky color="#ECECEC" src="#skybox"></a-sky>
      <a-sound src="#backgroundAudio" autoplay="true" position="0 2 5"></a-sound>
<!-- 
      <a-entity light="type: ambient; color: #BBB; intensity: 1.5"></a-entity>
      <a-entity geometry="primitive: box; width: 1; height: 1; depth: 1" position ="-1 0 -3" material="color: black"></a-entity>
      <a-entity geometry="primitive: dodecahedron; radius: 2" position ="1 0 -3" scale=".5 .5 .5" material="color: green"></a-entity>
       -->
<!--        <a-entity obj-model="obj: #obj3d; mtl: #texture" position ="0 0 -3" scale="1 1 1" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"></a-entity>
      <a-sphere color="yellow" position="1 2 -3"  radius=".7" material ="src: #box; shader:flat; reflectivity: 1; metalness: 1"></a-sphere>
      <a-entity mixin="blue cube" position ="0 3 -3"></a-entity>
      <a-box position="-1 2 -3"  material="src: #box; color: red; roughness: 1; metalness: 0">
      </a-box> -->
    <a-entity position="0 -5 0">
<!--    Ground and top    -->
        <a-plane static-body="shape: plane;" height="200" width="200" rotation="-90 0 0" depth="2"  position ="0 0 0" material="src:#floor-texture; side:double; offset: 0,0;repeat: 10 8; roughness: 1; metalness: .5"></a-plane>
        <a-plane static-body="shape: plane;" height="200" width="200" rotation="90 0 0" depth="2"  position ="0 25 0" material="src:#topWalls-texture; side:double; offset: 0,0;repeat: 5 5; roughness: 1; metalness: .5"></a-plane>
    <!--   Back Walls   -->
        <a-plane static-body="shape: plane;" color="white" height="50" width="20" depth="2"  position ="15 20 -50" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>
        <a-plane static-body="shape: plane;" color="white" height="50" width="20" depth="2"  position ="-15 20 -50" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>
        <a-plane static-body="shape: plane;" color="gray" height="50" width="100" depth="2"  position ="0 20 -90"  material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 3 2;"></a-plane>


<!-- Front Walls -->
        <a-plane static-body="shape: plane;" color="white" height="50" width="20" depth="2"  position ="15 20 -5" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>
        <a-plane static-body="shape: plane;" color="white" height="50" width="20" depth="2"  position ="-15 20 -5" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>


<!-- room walls -->
        <a-plane static-body="shape: plane;" height="50" width="90" position ="25 20 -50"  depth="2" rotation="0 -90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 3 2;"></a-plane>
        <a-plane static-body="shape: plane;" height="50" width="20" position ="-5 20 -40"  depth="2" rotation="0 -90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>
        <a-plane static-body="shape: plane;" height="50" width="20" position ="5 20 -40"  depth="2" rotation="0 -90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>

        <a-plane static-body="shape: plane;" height="50" width="10" position ="-5 20 -10"  depth="2" rotation="0 -90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>
        <a-plane static-body="shape: plane;" height="50" width="10" position ="5 20 -10"  depth="2" rotation="0 -90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 1 2;"></a-plane>



        <a-plane static-body="shape: plane;" height="50" width="90" position ="-25 20 -50" depth="2"  rotation="0 90 0" material="src:#walls-texture; side:double; roughness: 1; metalness: 0;repeat: 3 2;"></a-plane>

    </a-entity>
     
    
    </a-scene>

    <script>
        AFRAME.registerComponent('hello-world', {
        init: function () {
            console.log('Hello, World!');
            const button = document.getElementById('mutebutton')
            const btn = document.getElementById('btn')
            const vol = document.getElementById('vol')
            const mute = document.getElementById('mute')
            
            
            const audio1 = document.getElementById('audio')
            function clickButton(){
                if(audio1.paused){
                    audio1.play()
                  // btn.src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/volume.png?v=1715577435127"
                  btn.src = vol.src;
                }
                else{
                    audio1.pause();
                  // btn.src="https://cdn.glitch.global/41990937-02b5-4784-9b53-083570e8e2a5/volume-slash.png?v=1715577427265"
                  btn.src = mute.src;
                }
            }
            button.addEventListener('click',clickButton)
        }
        });
    </script>
  </body>
</html>
